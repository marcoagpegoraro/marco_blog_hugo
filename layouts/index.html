{{ define "main" }}
<header class="content__header">
  <h1>{{ .Title | markdownify }}</h1>
  {{ .Content }}
</header>

{{ range (where .Site.RegularPages "Section" "posts") }}
<article class="post">
  <header class="post__header">
    <h1><a href="{{ .Permalink }}">{{ .Title | markdownify }}</a></h1>
    <p class="post__meta">
      {{ .Params.author }},
      <span class="date">{{ .Date.Format "2 January 2006" }}</span>
    </p>
  </header>

  <section class="post__summary">
    <a href="{{ .Permalink }}">
      <div style="display: flex;">
        {{ if isset .Params "embedded_youtube_video_link" }}
        <iframe style="width: 100%;" height="415" src="{{.Params.embedded_youtube_video_link}}" title="YouTube video player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        {{ else }}
        <div {{ if ne .Summary "" }}{{ else }}style="margin: 0 auto;" {{ end }}>
          <img src="{{ .Params.header_image }}" style="max-width: 200px; margin: 20px;"></img>
        </div>
        {{ end }}
        <div>
          {{ .Summary }}
        </div>
      </div>
    </a>
    <hr>
  </section>
</article>
{{ end }}
{{ end }}

{{define "aside" }}
{{ if .Params.description }}<p>{{ .Params.description }}</p>{{ end }}
{{ end }}