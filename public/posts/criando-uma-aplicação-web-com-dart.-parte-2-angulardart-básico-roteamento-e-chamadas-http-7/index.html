<!DOCTYPE html>
<html lang="en">

    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><title>Criando uma aplica√ß√£o web com Dart. Parte 2: AngularDart: B√°sico, roteamento e chamadas HTTP &ndash; Blog do Marco(Marco&#39;s Blog)</title>
<meta name="description" content="Hello, my name is Marco, welcome to my personal blog, here i write posts about tecnology, programming, life, tech reviews among other things.">

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8"/>



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.4/css/academicons.min.css" integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />


<link rel="stylesheet" href="http://localhost:1313/css/palettes/base16-dark.css">
<link rel="stylesheet" href="http://localhost:1313/css/risotto.css">
<link rel="stylesheet" href="http://localhost:1313/css/custom.css">







</head>

    <body>
        <div class="page">

            <header class="page__header"><nav class="page__nav main-nav">
    <ul>
      <li class="nomarker"><h1 class="page__logo"><a href="http://localhost:1313/" class="page__logo-inner">Blog do Marco(Marco&#39;s Blog)</a></h1></li>
    
    
    </ul>
</nav>

</header>

            <section class="page__body">
    <header class="content__header">
        <h1>Criando uma aplica√ß√£o web com Dart. Parte 2: AngularDart: B√°sico, roteamento e chamadas HTTP</h1>
    </header>
    <div class="content__body">
        <p><img src="https://miro.medium.com/v2/resize:fit:1400/1*x9n1DT5QKLTZa9sFxNxtkg.png" alt=""></p>
<p>No artigo anterior, ensinei como criar uma aplica√ß√£o backend utilizando a linguagem de programa√ß√£o Dart juntamente com o framework Aqueduct, o artigo pode ser encontrado no seguinte link:</p>
<h2 id="criando-uma-aplica√ß√£o-web-com-dart-parte-1-aqueduct-b√°sico-conex√£o-com-banco-e-autentica√ß√£o-jwthttpsmediumcomflutter-comunidade-brcriando-uma-aplica√ß√£o-web-com-dart-parte-1-aqueduct-b√°sico-conex√£o-com-banco-e-autentica√ß√£o-jwt-bd3afad3ae1asourcepost5fpage-----9a7e7187a477--------------------------------"><a href="https://medium.com/flutter-comunidade-br/criando-uma-aplica%C3%A7%C3%A3o-web-com-dart-parte-1-aqueduct-b%C3%A1sico-conex%C3%A3o-com-banco-e-autentica%C3%A7%C3%A3o-jwt-bd3afad3ae1a?source=post%5Fpage-----9a7e7187a477--------------------------------">Criando uma aplica√ß√£o web com Dart. Parte 1: Aqueduct: B√°sico, conex√£o com banco e autentica√ß√£o JWT</a></h2>
<h3 id="o-dart-√©-uma-linguagem-de-programa√ß√£o-criada-dentro-da-google-em-2011-com-o-objetivo-de-substituir-o-javascript-comohttpsmediumcomflutter-comunidade-brcriando-uma-aplica√ß√£o-web-com-dart-parte-1-aqueduct-b√°sico-conex√£o-com-banco-e-autentica√ß√£o-jwt-bd3afad3ae1asourcepost5fpage-----9a7e7187a477--------------------------------"><a href="https://medium.com/flutter-comunidade-br/criando-uma-aplica%C3%A7%C3%A3o-web-com-dart-parte-1-aqueduct-b%C3%A1sico-conex%C3%A3o-com-banco-e-autentica%C3%A7%C3%A3o-jwt-bd3afad3ae1a?source=post%5Fpage-----9a7e7187a477--------------------------------">O Dart √© uma linguagem de programa√ß√£o criada dentro da Google em 2011 com o objetivo de substituir o javascript como‚Ä¶</a></h3>
<p><a href="https://medium.com/flutter-comunidade-br/criando-uma-aplica%C3%A7%C3%A3o-web-com-dart-parte-1-aqueduct-b%C3%A1sico-conex%C3%A3o-com-banco-e-autentica%C3%A7%C3%A3o-jwt-bd3afad3ae1a?source=post%5Fpage-----9a7e7187a477--------------------------------">medium.com</a></p>
<p>Para consumir a api criada, utilizaremos um framework frontend chamado AngularDart, que √© uma varia√ß√£o do conhecido framework Angular, s√≥ que, ao inv√©s de utilizar o TypeScript, √© utilizado o Dart. O resultado da aplica√ß√£o pode ser vista no GIF a seguir:</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*mOvWe2rRYUJAqmTiFcSDWw.gif" alt=""></p>
<p>Demonstra√ß√£o da aplica√ß√£o</p>
<p>Aviso: para este tutorial, √© recomendado ter um conhecimento pr√©vio sobre frameworks single page application, n√£o entrarei em muitos detalhes de como √© o funcionamento de algumas features abordadas.</p>
<h1 id="setup">Setup</h1>
<p>Para come√ßar a aplica√ß√£o, precisaremos clonar o projeto startup do pr√≥prio AngularDart, que pode ser encontrado no link a seguir:</p>
<h2 id="angular-examplesquickstarthttpsgithubcomangular-examplesquickstarttreed9e768b947f2787cc45eedbfb0d97530e6b5dd07sourcepost5fpage-----9a7e7187a477--------------------------------"><a href="https://github.com/angular-examples/quickstart/tree/d9e768b947f2787cc45eedbfb0d97530e6b5dd07?source=post%5Fpage-----9a7e7187a477--------------------------------">angular-examples/quickstart</a></h2>
<h3 id="welcome-to-the-example-app-used-in-the-setup-for-development-page-of-dart-for-the-web-you-can-run-a-hosted-copy-ofhttpsgithubcomangular-examplesquickstarttreed9e768b947f2787cc45eedbfb0d97530e6b5dd07sourcepost5fpage-----9a7e7187a477--------------------------------"><a href="https://github.com/angular-examples/quickstart/tree/d9e768b947f2787cc45eedbfb0d97530e6b5dd07?source=post%5Fpage-----9a7e7187a477--------------------------------">Welcome to the example app used in the Setup for Development page of Dart for the web. You can run a hosted copy of‚Ä¶</a></h3>
<p><a href="https://github.com/angular-examples/quickstart/tree/d9e768b947f2787cc45eedbfb0d97530e6b5dd07?source=post%5Fpage-----9a7e7187a477--------------------------------">github.com</a></p>
<p>Precisaremos tamb√©m, instalar o WebDev, que ser√° utilizado para servir a aplica√ß√£o, a ferramenta poder√° ser instalada com o comando:</p>
<p>pub global activate webdev 2.5.3
Para subir uma aplica√ß√£o AngularDart em modo de desenvolvedor, utilizamos o seguinte comando dentro da pasta do projeto:</p>
<p>webdev serve
No desenvolvimento deste tutorial, encontrei um problema ao rodar a aplica√ß√£o dizendo que meu compilador estava com bugs, talvez n√£o aconte√ßa com voc√™, mas para resolver isso, foi necess√°rio somente o seguinte comando no terminal para limpar o cache da aplica√ß√£o:</p>
<p>pub run build_runner clean
No arquivo pubspec.yaml, podemos observar que estamos utilizando a vers√£o 6.0.0-alpha, que √© a vers√£o mais recente do framework no momento que este artigo foi escrito. Para darmos continua√ß√£o ao desenvolvimento, iremos adicionar algumas depend√™ncias, o arquivo ent√£o ficar√° assim:</p>
<ol>
<li>angular_router ‚Äî Depend√™ncia do angular utilizado para roteamento.</li>
<li>bulma_scss ‚Äî Framework CSS que utilizaremos no projeto.</li>
<li>font_awesome ‚Äî Biblioteca de √≠cones.</li>
<li>http ‚Äî Biblioteca para realiza√ß√£o de requisi√ß√µes HTTP.</li>
<li>angular_forms ‚Äî Depend√™ncia do angular utilizado para formul√°rios.</li>
<li>sass_builder ‚Äî Utilizado para uso de arquivos scss.</li>
</ol>
<h1 id="estilos"><strong>Estilos</strong></h1>
<p>Agora, iremos apagar o conte√∫do do arquivo styles.css e substituir com o seguinte conte√∫do para deixar a p√°gina com uma fonte mais agrad√°vel e ocupando 100% da p√°gina, n√£o precisaremos de mais nenhum estilo pois estaremos utilizando o framework CSS <a href="https://bulma.io/">Bulma</a>.</p>
<p>Para adicionar o Bulma no projeto, criaremos um arquivo <em>app_component.scss</em> dentro da pasta lib com as importa√ß√µes necess√°rias, o arquivo ficar√° assim:</p>
<p>Em seguida, precisaremos importar o arquivo scss no <em>app_component.dart</em>, para fazer isso, adicionaremos a seguinte propriedade no <em>@component</em>:</p>
<p>styleUrls: [    &lsquo;app_component.css&rsquo;,],
O arquivo scss ser√° convertido para css automaticamente pela depend√™ncia <em>sass_builder</em>.</p>
<h1 id="roteamento"><strong>Roteamento</strong></h1>
<p>Para come√ßar a implementa√ß√£o do Angular router, precisaremos injetar o router no app Angular, para fazer isso, edite o arquivo main.dart para ficar da seguinte maneira:</p>
<p>Dentro de lib, criaremos uma pasta chamada components, no qual colocaremos todos os componentes da aplica√ß√£o. Nossa aplica√ß√£o ter√° 4 componentes principais, um componente de barra de navega√ß√£o que ficar√° sempre vis√≠vel a aplica√ß√£o, um componente de login, outro de cadastro e por fim, um dashboard para listar os ToDo‚Äôs.</p>
<p>Ent√£o dentro da pasta components, crie as pastas navbar, login, signup e dashboard e dentro de cada pasta, crie dois arquivos, um com extens√£o dart e outro html com o mesmo nome da pasta, a estrutura do projeto ficar√° assim:</p>
<p>lib
‚îÇ
‚îî‚îÄ‚îÄ‚îÄcomponents
‚îÇ    ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄdashboard
‚îÇ    ‚îÇ   ‚îÇ   dashboard.dart
‚îÇ    ‚îÇ   ‚îÇ   dashboard.html
‚îÇ    ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄlogin
‚îÇ    ‚îÇ   ‚îÇ   login.dart
‚îÇ    ‚îÇ   ‚îÇ   login.html
‚îÇ    ‚îÇ
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄnavbar
‚îÇ    ‚îÇ   ‚îÇ   navbar.dart
‚îÇ    ‚îÇ   ‚îÇ   navbar.html <br>
‚îÇ    ‚îî‚îÄ‚îÄ‚îÄsignup
‚îÇ    ‚îÇ   ‚îÇ   signup.dart
‚îÇ    ‚îÇ   ‚îÇ   signup.html
‚îÇ
‚îÇ   app_component.dart
‚îÇ   app_component.scss
Dentro de cada componente, criaremos um c√≥digo base s√≥ para podermos ver o roteamento funcionando.</p>
<p>Dentro de cada html, voc√™ pode colocar um texto somente para diferenciar cada componente caso desejar.</p>
<p>Em seguida, criaremos um arquivo <em>route_paths.dart</em> dentro da pasta <em>lib</em>, este arquivo ser√° onde declararemos nossas rotas:</p>
<p>Por fim, criaremos um arquivo chamado <em>routes.dart</em> dentro da pasta <em>lib</em> que ser√° o arquivo que relacionar√° as rotas com os componentes do sistema:</p>
<p>Definido as rotas, precisaremos editar o app_component.dart para que o sistema reconhe√ßa as rotas criadas e dependendo da url, mostrar o componente desejado, para isso, importaremos as classes de roteamento rec√©m criadas e criaremos um arquivo app_component.html no qual ter√° a tag router-outlet, que ser√° respons√°vel pela renderiza√ß√£o dos componentes dependendo da rota.</p>
<p>app_component.dart:</p>
<p>app_component.html:</p>
<p>E com isso, o roteamento b√°sico da p√°gina j√° estar√° funcionando, com o comando <em>webdev serve</em> rodando, voc√™ j√° poder√° navegar entre as p√°ginas:</p>
<p>http://localhost:8080/#/login
http://localhost:8080/#/signup
http://localhost:8080/#/dashboard</p>
<h1 id="navbar"><strong>Navbar</strong></h1>
<p>Antes de criar a navbar, precisaremos de uma vari√°vel global para a nossa aplica√ß√£o para verificar se o usu√°rio est√° ou n√£o autenticado. Tamb√©m criaremos uma vari√°vel chamada baseUrl na qual ser√° utilizada para auxiliar nas requisi√ß√µes http, para isso, criaremos uma pasta utils dentro de lib, e dentro desta pasta, criaremos um arquivo utils.dart:</p>
<p>A navbar do sistema ainda ser√° um componente, por√©m ele ficar√° fixo na p√°gina independente da rota, para fazer isso, importaremos o componente diretamente no app component junto com a classe Utils:</p>
<p>Logo a seguir, colocaremos o navbar no html do app:</p>
<p>Com isso, j√° ser√° poss√≠vel observar que o navbar se mantem presente em todas as rotas do sistema</p>
<h1 id="finalizando-o-navbar"><strong>Finalizando o navbar</strong></h1>
<p>Utilizaremos o seguinte html no componente navbar, todo o processo pode ser visto na documenta√ß√£o do bulma. Na linha 11, temos um m√©todo necess√°rio para lidar com o menu quando √© uma tela de celular, iremos implementar este m√©todo no Dart. Os bot√µes da barra de navega√ß√£o ser√£o diferentes caso o usu√°rio esteja logado ou n√£o, por isso, implementamos na linha 22 e 28 dois IFs para fazer esta verifica√ß√£o, um para se o usu√°rio esta logado e outro caso n√£o esteja.</p>
<p>navbar.dart:</p>
<p>Feito isso, j√° √© para o navbar da aplica√ß√£o estar funcionando.</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/1*FEiTlKLTIe2O7Qb7wEivAg.gif" alt=""></p>
<h1 id="componente-de-signup"><strong>Componente de Signup</strong></h1>
<p>Para o design da tela de Sign Up, utilizaremos um card, e dentro dele, colocaremos os campos necess√°rios para o cadastro e um bot√£o para cadastro do usu√°rio, tamb√©m criaremos um modal de confirma√ß√£o de cadastro.</p>
<h1 id="componente-de-login"><strong>Componente de Login</strong></h1>
<p>O design da tela de login ser√° bem semelhante, dentro de um card, colocaremos dois campos para o usu√°rio digitar os dados de login e um bot√£o para realizar o login, tamb√©m colocaremos um modal para informar o usu√°rio caso o login informado n√£o exista na base de dados:</p>
<h1 id="componente-dashboard"><strong>Componente Dashboard</strong></h1>
<p>Para o componente de dashboard, estaremos utilizando dois cards, um para os bot√µes de a√ß√£o (adicionar e atualizar), e outro para a listagem de tarefas, perceba que cada tarefa ter√° seu pr√≥prio bot√£o de exclus√£o e edi√ß√£o. Estaremos utilizando tamb√©m um modal que ser√° usado tanto para adicionar tarefas quanto para editar tarefas, para fazer isso, o m√©todo que chama o modal pode ou n√£o receber uma tarefa como argumento, caso n√£o receba, o modal ser√° utilizado para adi√ß√£o, caso receba, ser√° utilizado para editar a tarefa recebida.</p>
<p>Assim que a p√°gina for carregada (ngOnInit), ser√° chamado um m√©todo getTodos, no qual ser√° respons√°vel de carregar as tarefas da nossa API Rest.</p>
<p>E com isso, finalizamos nosso frontend feito em AngularDart, espero ter gostado deste tutorial, o reposit√≥rio do projeto final, tanto a api rest quanto o frontend poder√£o ser encontrados nos seguintes links:</p>
<h2 id="marcoagpegorarotodo-app-aqueducthttpsgithubcommarcoagpegorarotodo-app-aqueductsourcepost5fpage-----9a7e7187a477--------------------------------"><a href="https://github.com/marcoagpegoraro/todo-app-aqueduct?source=post%5Fpage-----9a7e7187a477--------------------------------">marcoagpegoraro/todo-app-aqueduct</a></h2>
<h3 id="its-necessary-a-postgres-database-in-order-for-this-application-to-work-properly-modify-channeldart-anthttpsgithubcommarcoagpegorarotodo-app-aqueductsourcepost5fpage-----9a7e7187a477--------------------------------"><a href="https://github.com/marcoagpegoraro/todo-app-aqueduct?source=post%5Fpage-----9a7e7187a477--------------------------------">It&rsquo;s necessary a postgres database in order for this application to work properly, modify channel.dart ant‚Ä¶</a></h3>
<p><a href="https://github.com/marcoagpegoraro/todo-app-aqueduct?source=post%5Fpage-----9a7e7187a477--------------------------------">github.com</a></p>
<h2 id="marcoagpegorarotodo-app-angular-darthttpsgithubcommarcoagpegorarotodo-app-angular-dartsourcepost5fpage-----9a7e7187a477--------------------------------"><a href="https://github.com/marcoagpegoraro/todo-app-angular-dart?source=post%5Fpage-----9a7e7187a477--------------------------------">marcoagpegoraro/todo-app-angular-dart</a></h2>
<h3 id="contribute-to-marcoagpegorarotodo-app-angular-dart-development-by-creating-an-account-on-githubhttpsgithubcommarcoagpegorarotodo-app-angular-dartsourcepost5fpage-----9a7e7187a477--------------------------------"><a href="https://github.com/marcoagpegoraro/todo-app-angular-dart?source=post%5Fpage-----9a7e7187a477--------------------------------">Contribute to marcoagpegoraro/todo-app-angular-dart development by creating an account on GitHub.</a></h3>
<p><a href="https://github.com/marcoagpegoraro/todo-app-angular-dart?source=post%5Fpage-----9a7e7187a477--------------------------------">github.com</a></p>

    </div>
    <footer class="content__footer"></footer>

            </section>

            <section class="page__aside">
                <div class="aside__about">
<div class="aside__about">
    <span class="about__logo" role="img">üíª</span>&nbsp;
    
<h1 class="about__title">Marco Pegoraro</h1>
<p class="about__description">Hello, my name is Marco, welcome to my personal blog, here i write posts about tecnology, programming, life, tech reviews among other things.</p>
</div>


<ul class="aside__social-links">
    
    <li>
        <a href="https://github.com/marcoagpegoraro" rel="me" aria-label="GitHub" title="GitHub"><i class="fa-brands fa-github" aria-hidden="true"></i></a>&nbsp;
    </li>
    
    <li>
        <a href="mailto:marco@marcoagpegoraro.com.br" rel="me" aria-label="Email" title="Email"><i class="fa-solid fa-envelope" aria-hidden="true"></i></a>&nbsp;
    </li>
    
    <li>
        <a href="https://www.youtube.com/@marcoagpegoraro" rel="me" aria-label="Youtube" title="Youtube"><i class="fa-brands fa-youtube" aria-hidden="true"></i></a>&nbsp;
    </li>
    
    <li>
        <a href="https://www.linkedin.com/in/marco-antonio-goncalves" rel="me" aria-label="Linkedin" title="Linkedin"><i class="fa-brands fa-linkedin" aria-hidden="true"></i></a>&nbsp;
    </li>
    
    <li>
        <a href="https://medium.com/@tete5423" rel="me" aria-label="Medium" title="Medium"><i class="fa-brands fa-medium" aria-hidden="true"></i></a>&nbsp;
    </li>
    
</ul>
</div>
                <hr>
                <div class="aside__content">
    
    
        <p>
            By Marco Pegoraro, 
            2019-10-27
        </p>
    

    

                </div>
            </section>

            <footer class="page__footer"><p>
    
    
    
    
    
    
    
    
      
      
          
            
            
                <br/><span class="active">$ echo $LANG<br/><b></b></span><br/>

            
          
      
    
</p>
<br /><br />
<p class="copyright">¬© <a href="https://marcoagpegoraro.com.br">Marco Pegoraro</a>.</p>
<p class="advertisement">Powered by <a href="https://gohugo.io/">hugo</a> and <a href="https://github.com/joeroe/risotto">risotto</a>.</p>
</footer>

        </div>
    </body>

</html>
